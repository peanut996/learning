# JMM (Java 内存模型) 面试题

## JMM 基础

### 1. 什么是 Java 内存模型（JMM）？

### 2. JMM 和 JVM 内存结构的区别？

### 3. 什么是主内存和工作内存？

### 4. JMM 的三大特性是什么？

## 可见性

### 5. 什么是可见性问题？

### 6. 如何保证可见性？

### 7. volatile 如何保证可见性？

### 8. synchronized 如何保证可见性？

## 原子性

### 9. 什么是原子性？

### 10. 如何保证原子性？

### 11. i++ 操作是原子的吗？为什么？

### 12. long 和 double 的赋值是原子的吗？

## 有序性

### 13. 什么是指令重排序？

### 14. 为什么会发生指令重排序？

### 15. 如何禁止指令重排序？

### 16. happens-before 原则是什么？

### 17. happens-before 的常见规则有哪些？

## 内存屏障

### 18. 什么是内存屏障？

### 19. 内存屏障有哪些类型？

### 20. volatile 如何使用内存屏障？

### 21. synchronized 如何使用内存屏障？

## 单例模式

### 22. 双重检查锁定（DCL）为什么要使用 volatile？

### 23. 不使用 volatile 的 DCL 有什么问题？

### 24. 如何实现线程安全的单例模式？

## 对象创建

### 25. 对象的创建过程是怎样的？

### 26. 对象的内存布局是怎样的？

### 27. 什么是对象头？包含哪些信息？

### 28. 什么是半初始化状态？

## 其他问题

### 29. final 关键字在 JMM 中的作用？

### 30. 如何理解 as-if-serial 语义？
